<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kdt.finalproject.mapper.MemMapper">

	<select id="all" resultType="com.kdt.finalproject.vo.MemVO">
		SELECT * FROM member
	</select>

	<select id="login" parameterType="Map" resultType="com.kdt.finalproject.vo.MemVO">
    SELECT * FROM final.member
    where m_id = #{m_id}
  </select>

  <!--회원 정보 수정-->
  <update id="updateMem" parameterType="com.kdt.finalproject.vo.MemVO">
    UPDATE final.member
    SET m_name = #{m_name}, 
      m_phone = #{m_phone}
    WHERE m_idx=#{m_idx}
  </update>

  <!--회원 비빌번호 수정-->
  <update id="updatePw" parameterType="com.kdt.finalproject.vo.MemVO">
    UPDATE final.member
    SET m_pw = #{new_pw}
    WHERE m_idx=#{m_idx}
  </update>

  <!-- 관리자 로그인 -->
  <select id="adminLogin" parameterType="Map" resultType="com.kdt.finalproject.vo.MemVO">
    SELECT * FROM final.member
    where m_id = #{m_id} and m_status = 1
  </select>

   <!-- 총 관리자 로그인 -->
  <select id="adminTotalLogin" parameterType="Map" resultType="com.kdt.finalproject.vo.MemVO">
    SELECT * FROM final.member
    where m_id = #{m_id} and m_status = 2
  </select>

  <!-- 승인시 status값 변경 -->
  <update id="approval" parameterType="String">
    UPDATE final.member
    SET m_status = 1
    WHERE m_id = #{m_id}
  </update>
  

</mapper>








