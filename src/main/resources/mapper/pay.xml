<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.kdt.finalproject.mapper.PayMapper">

<!-- select -->
<select id="poNum_count" parameterType="com.kdt.finalproject.vo.PayVO" resultType="int">
  	SELECT count(restCd) FROM paylog GROUP BY restCd HAVING restCd = "restCd"
</select>

<select id="kakao_refunt_select" parameterType="String" resultType="com.kdt.finalproject.vo.PayVO">
  	SELECT * FROM paylog where tid = #{tid}
</select>

<!-- insert -->
<insert id="kakaopay" parameterType="com.kdt.finalproject.vo.PayVO">
		INSERT INTO paylog(m_idx, restCd, foodNm, foodCost, totalCost, p_date, p_status, p_time, p_oNum, restNm, payMethod, aid, tid, cid, p_oderId)
    VALUES(1, "restCd", "foodNm", "foodCost", #{totalCost}, #{p_date}, 0, #{p_time},  #{p_oNum}, "restNm", 0, #{aid}, #{tid}, #{cid}, #{p_oderId})
		<!--VALUES(#{m_idx}, #{restCd}, #{foodNm}, #{foodCost}, #{totalCost}, #{p_date}, 0, #{p_time}, #{p_oNum}, #{restNm}, 0, #{aid}, #{tid}, #{cid})-->
</insert>

<insert id="tosspay" parameterType="com.kdt.finalproject.vo.PayVO">
		INSERT INTO paylog(m_idx, restCd, foodNm, foodCost, totalCost, p_date, p_status, p_time, p_oNum, restNm, payMethod, aid, tid, cid, p_oderId)
    VALUES(1, "restCd", "foodNm", "foodCost", #{totalCost}, #{p_date}, 0, #{p_time}, #{p_oNum}, "restNm", 1, #{aid}, #{tid}, "cid", #{p_oderId})
</insert>

<!-- update -->

</mapper>