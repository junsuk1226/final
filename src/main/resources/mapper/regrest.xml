<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.kdt.finalproject.mapper.RegRestMapper">

<select id="getRegRest" parameterType="String" resultType="com.kdt.finalproject.vo.RegRestVO">
  	SELECT * FROM regrest WHERE reg_status = 0 and reg_restNm = #{RestNm}
</select>

<!-- 가입신청한 휴게소 정보 가져오기 -->
<select id="regList" resultType="com.kdt.finalproject.vo.MemVO">
  SELECT * FROM member
  WHERE m_status = 3
</select>

<!-- 승인시 status값 변경 -->
<update id="approval" parameterType="String">
  UPDATE final.member
  SET m_status = 1
  WHERE m_id = #{m_id}
</update>

<update id="approval_log" parameterType="Map">
  UPDATE final.memberlog
    SET m_status = 1
    WHERE m_id = #{m_id}   
</update>

</mapper>